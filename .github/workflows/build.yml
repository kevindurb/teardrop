name: Build STL

on: [push]

jobs:
  prepare:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

  build:
    runs-on: ubuntu-latest
    container: openscad/openscad
    needs: prepare
    steps:
      - name: Create dist directory
        run: mkdir ./dist

      - name: Build STL
        run: openscad ./src/models/teardrop.scad -o ./dist/teardrop.stl
